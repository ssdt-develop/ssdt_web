import{ac as e,c as a,l as t,w as l,a3 as i,a2 as s,az as r,at as o}from"./index.BRpw1nKc.js";import{E as d}from"./el-row.q_U4h3Z4.js";import{a as m,E as n}from"./el-form-item.BMwGbftj.js";import{E as u}from"./el-col.CaebfPGa.js";import{s as p}from"./screen-height.COx2xJHy.js";import{a as _,b as h}from"./setting.DYedjNo8.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.CIpvmybx.js";import"./_Uint8Array.CFsNisPO.js";import"./tagsView.BGKYC20W.js";const g=f({name:"SystemSettingApi",data:()=>({name:"接口设置",height:680,loading:!1,model:{api_rate_num:3,api_rate_time:1},rules:{api_rate_num:[{required:!0,message:"请输入次数",trigger:"blur"}],api_rate_time:[{required:!0,message:"请输入时间",trigger:"blur"}]}}),created(){this.height=p(210),this.info()},methods:{info(){_().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,_().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,h(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,p,_,h,f,g){const c=r,b=u,j=m,y=o,V=n,w=d;return a(),t(w,null,{default:l((()=>[i(b,{span:16},{default:l((()=>[i(V,{ref:"ref",model:f.model,rules:f.rules,"label-width":"120px"},{default:l((()=>[i(j,{label:"接口速率"},{default:l((()=>[i(b,{span:6},{default:l((()=>[i(c,{modelValue:f.model.api_rate_num,"onUpdate:modelValue":p[0]||(p[0]=e=>f.model.api_rate_num=e),type:"number",placeholder:"次数"},{append:l((()=>[s("次 /")])),_:1},8,["modelValue"])])),_:1}),i(b,{span:6},{default:l((()=>[i(c,{modelValue:f.model.api_rate_time,"onUpdate:modelValue":p[1]||(p[1]=e=>f.model.api_rate_time=e),type:"number",placeholder:"时间"},{append:l((()=>[s("秒")])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(j,null,{default:l((()=>[s(" 次数/时间；3/1：3次1秒；次数为 0 则不限制。 ")])),_:1}),i(j,null,{default:l((()=>[i(y,{loading:f.loading,onClick:p[2]||(p[2]=e=>g.refresh())},{default:l((()=>[s("刷新")])),_:1},8,["loading"]),i(y,{loading:f.loading,type:"primary",onClick:p[3]||(p[3]=e=>g.submit())},{default:l((()=>[s("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{g as default};
