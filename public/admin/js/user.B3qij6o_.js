import{as as e,ac as l,ad as a,c as t,e as s,a3 as o,w as i,Q as d,ag as r,l as u,a2 as p,k as n,t as m,ab as c,O as h,P as _,az as f,at as g}from"./index.BRpw1nKc.js";import{v as b}from"./el-loading.BV6rMv2f.js";import{E as y}from"./el-scrollbar.CSr5ETPp.js";import{E as V}from"./el-tree.CzdFjgRO.js";import{E as k}from"./el-checkbox.EDgu4e6h.js";import{_ as v}from"./index.B8TJitXy.js";import{E as w,a as U}from"./el-table-column.CutgeWLk.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.D4W13mvh.js";import{E as j}from"./el-link.DPD7VmMd.js";import{_ as x}from"./FileImage.CMtjsSwL.js";import{a as q,E as C}from"./el-select.5v61zF81.js";import{E as D}from"./el-dialog._ZabjypL.js";import{a as T,E as A}from"./el-form-item.BMwGbftj.js";import{E}from"./el-switch.DGE1lg0h.js";import{E as I}from"./el-row.q_U4h3Z4.js";import{E as P}from"./el-col.CaebfPGa.js";import{_ as S}from"./index.CwjPZbsy.js";import{E as $}from"./el-date-picker.CSS3cjq0.js";import{E as G}from"./el-radio.DuW_wDn_.js";import{s as O}from"./screen-height.COx2xJHy.js";import{a as R}from"./index.Cp1HnnF1.js";import{g as z}from"./settings.HJzUBU6Z.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.B36XNMVV.js";import"./_Uint8Array.CFsNisPO.js";import"./debounce.CixRjyEa.js";import"./index.HiC8GQQr.js";import"./isUndefined.DgmxjSXK.js";import"./el-text.D8Jxf6kI.js";import"./el-avatar.ByAhWF37.js";import"./el-image-viewer.BB7HyzD-.js";import"./index.B5yjKjmX.js";import"./FilePreview.DjJYlL3Z.js";import"./clipboard.DxwZ1MhR.js";/* empty css                          */import"./el-card.BBukHcQ3.js";/* empty css                       */import"./permission.BG2swUZV.js";import"./group.D6uVsq_i.js";import"./tag.DI6CRSc4.js";import"./index.Dg10_69g.js";import"./castArray.CIpvmybx.js";import"./refs.BDPfTQKo.js";import"./tagsView.BGKYC20W.js";const Y="/admin/system.User/";const H={class:"app-container"},B={class:"c-red"},K={class:"custom-tree-node"},M={key:0,class:"el-icon-check",style:{color:"#1890ff"},title:"已分配"},N={key:0,style:{"margin-left":"10px"},title:"角色"},J=["title"],L={key:2,style:{"margin-left":"10px",color:"#fff"}},Q={key:3,style:{"margin-left":"10px"},title:"免登"},W={key:4,style:{"margin-left":"10px",color:"#fff"}},Z={key:5,style:{"margin-left":"10px"},title:"免权"},X={key:6,style:{"margin-left":"10px",color:"#fff"}};const ee=F({name:"SystemUser",components:{Pagination:v},data:()=>({name:"用户",height:680,loading:!1,idkey:"user_id",exps:[{exp:"like",name:"包含"}],query:{page:1,limit:z(),search_field:"username",search_exp:"like",date_field:"create_time"},data:[],count:0,dialog:!1,dialogTitle:"",model:{user_id:"",number:"",avatar_id:0,avatar_url:"",nickname:"",username:"",password:"",phone:"",email:"",remark:"",sort:250,login_ip:"",login_region:"",login_time:"",logout_time:"",create_time:"",update_time:"",dept_ids:[],post_ids:[],role_ids:[]},rules:{nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"操作",selectDialog:!1,selectType:"",dept_ids:[],post_ids:[],role_ids:[],password:"",is_super:0,is_disable:0,deptData:[],deptProps:{checkStrictly:!0,value:"dept_id",label:"dept_name",multiple:!0,emitPath:!1},postData:[],postProps:{checkStrictly:!0,value:"post_id",label:"post_name",multiple:!0,emitPath:!1},roleData:[],menuProps:{label:"menu_name",children:"children"},menuExpandAll:!1}),created(){this.height=O(),this.list()},methods:{list(){var l;this.loading=!0,(l=this.query,e({url:Y+"list",method:"get",params:l})).then((e=>{this.data=e.data.list,this.count=e.data.count,this.deptData=e.data.dept,this.postData=e.data.post,this.roleData=e.data.role,this.exps=e.data.exps,this.loading=!1})).catch((()=>{this.loading=!1}))},add(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit(l){this.dialog=!0,this.dialogTitle=this.name+"修改："+l[this.idkey];var a,t={};t[this.idkey]=l[this.idkey],(a=t,e({url:Y+"info",method:"get",params:a})).then((e=>{this.reset(e.data)})).catch((()=>{}))},cancel(){this.dialog=!1,this.reset()},submit(){this.$refs.ref.validate((a=>{var t;a&&(this.loading=!0,this.model[this.idkey]?(t=this.model,e({url:Y+"edit",method:"post",data:t})).then((e=>{this.list(),this.dialog=!1,l.success(e.msg)})).catch((()=>{this.loading=!1})):function(l){return e({url:Y+"add",method:"post",data:l})}(this.model).then((e=>{this.list(),this.dialog=!1,l.success(e.msg)})).catch((()=>{this.loading=!1})))}))},reset(e){if(this.model=e||this.$options.data().model,void 0!==this.$refs.ref)try{this.$refs.ref.resetFields(),this.$refs.ref.clearValidate()}catch(l){}this.menuExpandAll=!1,this.fileDialog=!1},search(){this.query.page=1,this.list()},refresh(){const e=this.query.limit;this.query=this.$options.data().query,this.$refs.table.clearSort(),this.query.limit=e,this.list()},sort(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds(e){return R(e,this.idkey)},selectAlert(){a.alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:()=>{}})},selectOpen(e,l=""){if(l){this.$refs.table.clearSelection();const e=l.length;for(let a=0;a<e;a++)this.$refs.table.toggleRowSelection(l[a],!0)}this.selection.length?(this.selectTitle="操作","editdept"===e?this.selectTitle=this.name+"修改部门":"editpost"===e?this.selectTitle=this.name+"修改职位":"editrole"===e?this.selectTitle=this.name+"修改角色":"super"===e?this.selectTitle=this.name+"是否超管":"password"===e?this.selectTitle=this.name+"重置密码":"disable"===e?this.selectTitle=this.name+"是否禁用":"dele"===e&&(this.selectTitle=this.name+"删除"),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel(){this.selectDialog=!1},selectSubmit(){if(this.selection.length){const e=this.selectType;"editdept"===e?this.editdept(this.selection,!0):"editpost"===e?this.editpost(this.selection,!0):"editrole"===e?this.editrole(this.selection,!0):"super"===e?this.issuper(this.selection,!0):"password"===e?this.repwd(this.selection,!0):"disable"===e?this.disable(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},repwd(a,t=!1){if(a.length){if(!this.password)return l.error("请输入新密码"),!1;this.loading=!0;var s=a[0].password;t&&(s=this.password),(o={ids:this.selectGetIds(a),password:s},e({url:Y+"repwd",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))}else this.selectAlert();var o},editdept(a){var t;a.length?(this.loading=!0,(t={ids:this.selectGetIds(a),dept_ids:this.dept_ids},e({url:Y+"editdept",method:"post",data:t})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},editpost(a){var t;a.length?(this.loading=!0,(t={ids:this.selectGetIds(a),post_ids:this.post_ids},e({url:Y+"editpost",method:"post",data:t})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},editrole(a){var t;a.length?(this.loading=!0,(t={ids:this.selectGetIds(a),role_ids:this.role_ids},e({url:Y+"editrole",method:"post",data:t})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},issuper(a,t=!1){if(a.length){this.loading=!0;var s=a[0].is_super;t&&(s=this.is_super),(o={ids:this.selectGetIds(a),is_super:s},e({url:Y+"super",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.list()}))}else this.selectAlert();var o},disable(a,t=!1){if(a.length){this.loading=!0;var s=a[0].is_disable;t&&(s=this.is_disable),(o={ids:this.selectGetIds(a),is_disable:s},e({url:Y+"disable",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.list()}))}else this.selectAlert();var o},dele(a){var t;a.length?(t={ids:this.selectGetIds(a)},e({url:Y+"dele",method:"post",data:t})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1})):this.selectAlert()},menuExpandAllChange(){const e=this.menuExpandAll,l=this.$refs.menuRef.store._getAllNodes().length;for(let a=0;a<l;a++)this.$refs.menuRef.store._getAllNodes()[a].expanded=e},fileUpload(){this.fileDialog=!0},fileCancel(){this.fileDialog=!1},fileSubmit(e){this.fileDialog=!1;const l=e.length;if(l){const a=l-1;this.model.avatar_id=e[a].file_id,this.model.avatar_url=e[a].file_url}},fileDelete(){this.model.avatar_id=0,this.model.avatar_url=""}}},[["render",function(e,l,a,O,R,z){const F=q,Y=C,ee=G,le=f,ae=$,te=g,se=S,oe=P,ie=I,de=T,re=E,ue=A,pe=D,ne=w,me=x,ce=j,he=U,_e=v,fe=k,ge=V,be=y,ye=b;return t(),s("div",H,[o(ie,null,{default:i((()=>[o(oe,{class:"mb-2"},{default:i((()=>[o(Y,{modelValue:R.query.search_field,"onUpdate:modelValue":l[0]||(l[0]=e=>R.query.search_field=e),class:"ya-search-field",placeholder:"查询字段"},{default:i((()=>[o(F,{value:R.idkey,label:"ID"},null,8,["value"]),o(F,{value:"number",label:"编号"}),o(F,{value:"nickname",label:"昵称"}),o(F,{value:"username",label:"账号"}),o(F,{value:"phone",label:"手机"}),o(F,{value:"email",label:"邮箱"}),o(F,{value:"dept_ids",label:"部门"}),o(F,{value:"post_ids",label:"职位"}),o(F,{value:"role_ids",label:"角色"}),o(F,{value:"is_super",label:"超管"}),o(F,{value:"remark",label:"备注"}),o(F,{value:"is_disable",label:"禁用"})])),_:1},8,["modelValue"]),o(Y,{modelValue:R.query.search_exp,"onUpdate:modelValue":l[1]||(l[1]=e=>R.query.search_exp=e),class:"ya-search-exp"},{default:i((()=>[(t(!0),s(d,null,r(R.exps,(e=>(t(),u(F,{key:e.exp,value:e.exp,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),"is_super"===R.query.search_field||"is_disable"===R.query.search_field?(t(),u(Y,{key:0,modelValue:R.query.search_value,"onUpdate:modelValue":l[2]||(l[2]=e=>R.query.search_value=e),class:"ya-search-value"},{default:i((()=>[o(F,{value:1,label:"是"}),o(F,{value:0,label:"否"})])),_:1},8,["modelValue"])):"dept_ids"===R.query.search_field?(t(),u(ee,{key:1,modelValue:R.query.search_value,"onUpdate:modelValue":l[3]||(l[3]=e=>R.query.search_value=e),options:R.deptData,props:R.deptProps,class:"ya-search-value",clearable:"",filterable:"","collapse-tags":""},null,8,["modelValue","options","props"])):"post_ids"===R.query.search_field?(t(),u(ee,{key:2,modelValue:R.query.search_value,"onUpdate:modelValue":l[4]||(l[4]=e=>R.query.search_value=e),options:R.postData,props:R.postProps,class:"ya-search-value",clearable:"",filterable:"","collapse-tags":""},null,8,["modelValue","options","props"])):"role_ids"===R.query.search_field?(t(),u(Y,{key:3,modelValue:R.query.search_value,"onUpdate:modelValue":l[5]||(l[5]=e=>R.query.search_value=e),class:"ya-search-value",clearable:"",filterable:"",multiple:"","collapse-tags":""},{default:i((()=>[(t(!0),s(d,null,r(R.roleData,(e=>(t(),u(F,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):(t(),u(le,{key:4,modelValue:R.query.search_value,"onUpdate:modelValue":l[6]||(l[6]=e=>R.query.search_value=e),class:"ya-search-value",placeholder:"查询内容",clearable:""},null,8,["modelValue"])),o(Y,{modelValue:R.query.date_field,"onUpdate:modelValue":l[7]||(l[7]=e=>R.query.date_field=e),class:"ya-date-field",placeholder:"时间类型"},{default:i((()=>[o(F,{value:"create_time",label:"添加时间"}),o(F,{value:"update_time",label:"修改时间"}),o(F,{value:"login_time",label:"登录时间"}),o(F,{value:"logout_time",label:"退出时间"})])),_:1},8,["modelValue"]),o(ae,{modelValue:R.query.date_value,"onUpdate:modelValue":l[8]||(l[8]=e=>R.query.date_value=e),type:"datetimerange",class:"ya-date-value","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date(2024,1,1,0,0,0),new Date(2024,1,1,23,59,59)]},null,8,["modelValue","default-time"]),o(te,{type:"primary",onClick:l[9]||(l[9]=e=>z.search())},{default:i((()=>[p("查询")])),_:1}),o(te,{title:"重置",onClick:l[10]||(l[10]=e=>z.refresh())},{default:i((()=>[o(se,{"icon-class":"refresh"})])),_:1}),o(te,{type:"primary",onClick:l[11]||(l[11]=e=>z.add())},{default:i((()=>[p("添加")])),_:1})])),_:1})])),_:1}),o(ie,null,{default:i((()=>[o(oe,null,{default:i((()=>[o(te,{title:"删除"+R.name,onClick:l[12]||(l[12]=e=>z.selectOpen("dele"))},{default:i((()=>[p("删除")])),_:1},8,["title"]),o(te,{title:"是否禁用",onClick:l[13]||(l[13]=e=>z.selectOpen("disable"))},{default:i((()=>[p("禁用")])),_:1}),o(te,{title:"修改部门",onClick:l[14]||(l[14]=e=>z.selectOpen("editdept"))},{default:i((()=>[p("部门")])),_:1}),o(te,{title:"修改职位",onClick:l[15]||(l[15]=e=>z.selectOpen("editpost"))},{default:i((()=>[p("职位")])),_:1}),o(te,{title:"修改角色",onClick:l[16]||(l[16]=e=>z.selectOpen("editrole"))},{default:i((()=>[p("角色")])),_:1}),o(te,{title:"重置密码",onClick:l[17]||(l[17]=e=>z.selectOpen("password"))},{default:i((()=>[p("密码")])),_:1}),o(te,{title:"是否超管",onClick:l[18]||(l[18]=e=>z.selectOpen("super"))},{default:i((()=>[p("超管")])),_:1})])),_:1})])),_:1}),o(pe,{modelValue:R.selectDialog,"onUpdate:modelValue":l[26]||(l[26]=e=>R.selectDialog=e),title:R.selectTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"20vh"},{footer:i((()=>[o(te,{loading:R.loading,onClick:z.selectCancel},{default:i((()=>[p("取消")])),_:1},8,["loading","onClick"]),o(te,{loading:R.loading,type:"primary",onClick:z.selectSubmit},{default:i((()=>[p("提交")])),_:1},8,["loading","onClick"])])),default:i((()=>[o(ue,{ref:"selectRef","label-width":"120px"},{default:i((()=>["editdept"===R.selectType?(t(),u(de,{key:0,label:"部门",prop:"dept_ids"},{default:i((()=>[o(ee,{modelValue:R.dept_ids,"onUpdate:modelValue":l[19]||(l[19]=e=>R.dept_ids=e),options:R.deptData,props:R.deptProps,class:"w-full",clearable:"",filterable:""},null,8,["modelValue","options","props"])])),_:1})):"editpost"===R.selectType?(t(),u(de,{key:1,label:"职位",prop:"post_ids"},{default:i((()=>[o(ee,{modelValue:R.post_ids,"onUpdate:modelValue":l[20]||(l[20]=e=>R.post_ids=e),options:R.postData,props:R.postProps,class:"w-full",clearable:"",filterable:""},null,8,["modelValue","options","props"])])),_:1})):"editrole"===R.selectType?(t(),u(de,{key:2,label:"角色",prop:"role_ids"},{default:i((()=>[o(Y,{modelValue:R.role_ids,"onUpdate:modelValue":l[21]||(l[21]=e=>R.role_ids=e),class:"w-full",clearable:"",filterable:"",multiple:""},{default:i((()=>[(t(!0),s(d,null,r(R.roleData,(e=>(t(),u(F,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):"password"===R.selectType?(t(),u(de,{key:3,label:"新密码",prop:"password"},{default:i((()=>[o(le,{modelValue:R.password,"onUpdate:modelValue":l[22]||(l[22]=e=>R.password=e),placeholder:"请输入新密码",clearable:"","show-password":""},null,8,["modelValue"])])),_:1})):"super"===R.selectType?(t(),u(de,{key:4,label:"是否超管"},{default:i((()=>[o(re,{modelValue:R.is_super,"onUpdate:modelValue":l[23]||(l[23]=e=>R.is_super=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})):"disable"===R.selectType?(t(),u(de,{key:5,label:"是否禁用"},{default:i((()=>[o(re,{modelValue:R.is_disable,"onUpdate:modelValue":l[24]||(l[24]=e=>R.is_disable=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})):"dele"===R.selectType?(t(),u(de,{key:6},{default:i((()=>[n("span",B,"确定要删除选中的"+m(R.name)+"吗？",1)])),_:1})):c("",!0),o(de,{label:R.name+"ID",prop:R.idkey},{default:i((()=>[o(le,{modelValue:R.selectIds,"onUpdate:modelValue":l[25]||(l[25]=e=>R.selectIds=e),type:"textarea",autosize:"",disabled:""},null,8,["modelValue"])])),_:1},8,["label","prop"])])),_:1},512)])),_:1},8,["modelValue","title"]),h((t(),u(he,{ref:"table",data:R.data,height:R.height,onSortChange:z.sort,onSelectionChange:z.select},{default:i((()=>[o(ne,{type:"selection",width:"42",title:"全选/反选"}),o(ne,{prop:R.idkey,label:"ID",width:"80",sortable:"custom"},null,8,["prop"]),o(ne,{prop:"avatar_id",label:"头像","min-width":"62"},{default:i((e=>[o(me,{"file-url":e.row.avatar_url,avatar:"",lazy:""},null,8,["file-url"])])),_:1}),o(ne,{prop:"number",label:"编号","min-width":"85",sortable:"custom","show-overflow-tooltip":""}),o(ne,{prop:"nickname",label:"昵称","min-width":"100",sortable:"custom","show-overflow-tooltip":""}),o(ne,{prop:"username",label:"账号","min-width":"100",sortable:"custom","show-overflow-tooltip":""}),o(ne,{prop:"dept_names",label:"部门","min-width":"120","show-overflow-tooltip":""}),o(ne,{prop:"post_names",label:"职位","min-width":"120","show-overflow-tooltip":""}),o(ne,{prop:"role_names",label:"角色","min-width":"120","show-overflow-tooltip":""}),o(ne,{prop:"is_super",label:"超管","min-width":"85",sortable:"custom"},{default:i((e=>[o(re,{modelValue:e.row.is_super,"onUpdate:modelValue":l=>e.row.is_super=l,"active-value":1,"inactive-value":0,onChange:l=>z.issuper([e.row])},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),o(ne,{prop:"is_disable",label:"禁用","min-width":"85",sortable:"custom"},{default:i((e=>[o(re,{modelValue:e.row.is_disable,"onUpdate:modelValue":l=>e.row.is_disable=l,"active-value":1,"inactive-value":0,onChange:l=>z.disable([e.row])},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),o(ne,{prop:"sort",label:"排序","min-width":"85",sortable:"custom"}),o(ne,{prop:"login_time",label:"登录时间",width:"165",sortable:"custom"}),o(ne,{prop:"create_time",label:"添加时间",width:"165",sortable:"custom"}),o(ne,{prop:"update_time",label:"修改时间",width:"165",sortable:"custom"}),o(ne,{label:"操作",width:"95"},{default:i((e=>[o(ce,{type:"primary",class:"mr-1",underline:!1,onClick:l=>z.edit(e.row)},{default:i((()=>[p(" 修改 ")])),_:2},1032,["onClick"]),o(ce,{type:"primary",underline:!1,onClick:l=>z.selectOpen("dele",[e.row])},{default:i((()=>[p(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","onSortChange","onSelectionChange"])),[[ye,R.loading]]),h(o(_e,{total:R.count,"onUpdate:total":l[27]||(l[27]=e=>R.count=e),page:R.query.page,"onUpdate:page":l[28]||(l[28]=e=>R.query.page=e),limit:R.query.limit,"onUpdate:limit":l[29]||(l[29]=e=>R.query.limit=e),onPagination:z.list},null,8,["total","page","limit","onPagination"]),[[_,R.count>0]]),o(pe,{modelValue:R.dialog,"onUpdate:modelValue":l[50]||(l[50]=e=>R.dialog=e),title:R.dialogTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":z.cancel,top:"5vh"},{footer:i((()=>[o(te,{loading:R.loading,onClick:z.cancel},{default:i((()=>[p("取消")])),_:1},8,["loading","onClick"]),o(te,{loading:R.loading,type:"primary",onClick:z.submit},{default:i((()=>[p("提交")])),_:1},8,["loading","onClick"])])),default:i((()=>[o(be,{native:"",height:R.height-30},{default:i((()=>[o(ue,{ref:"ref",model:R.model,rules:R.rules,"label-width":"100px"},{default:i((()=>[o(de,{label:"头像",prop:"avatar_id"},{default:i((()=>[o(me,{modelValue:R.model.avatar_id,"onUpdate:modelValue":l[30]||(l[30]=e=>R.model.avatar_id=e),"file-url":R.model.avatar_url,"file-title":"上传头像","file-tip":"图片小于 100 KB，jpg、png格式，100 x 100。",height:100,avatar:"",upload:""},null,8,["modelValue","file-url"])])),_:1}),o(de,{label:"编号",prop:"number"},{default:i((()=>[o(le,{key:"number",modelValue:R.model.number,"onUpdate:modelValue":l[31]||(l[31]=e=>R.model.number=e),placeholder:"请输入编号（工号）",clearable:""},null,8,["modelValue"])])),_:1}),o(de,{label:"昵称",prop:"nickname"},{default:i((()=>[o(le,{key:"nickname",modelValue:R.model.nickname,"onUpdate:modelValue":l[32]||(l[32]=e=>R.model.nickname=e),placeholder:"请输入昵称（姓名）",clearable:""},null,8,["modelValue"])])),_:1}),o(de,{label:"账号",prop:"username"},{default:i((()=>[o(le,{key:"username",modelValue:R.model.username,"onUpdate:modelValue":l[33]||(l[33]=e=>R.model.username=e),placeholder:"请输入账号（用户名）",clearable:""},null,8,["modelValue"])])),_:1}),""==R.model[R.idkey]?(t(),u(de,{key:0,label:"密码",prop:"password"},{default:i((()=>[o(le,{key:"password",modelValue:R.model.password,"onUpdate:modelValue":l[34]||(l[34]=e=>R.model.password=e),placeholder:"请输入密码",clearable:"","show-password":""},null,8,["modelValue"])])),_:1})):c("",!0),o(de,{label:"手机",prop:"phone"},{default:i((()=>[o(le,{modelValue:R.model.phone,"onUpdate:modelValue":l[35]||(l[35]=e=>R.model.phone=e),clearable:""},null,8,["modelValue"])])),_:1}),o(de,{label:"邮箱",prop:"email"},{default:i((()=>[o(le,{modelValue:R.model.email,"onUpdate:modelValue":l[36]||(l[36]=e=>R.model.email=e),clearable:""},null,8,["modelValue"])])),_:1}),o(de,{label:"备注",prop:"remark"},{default:i((()=>[o(le,{modelValue:R.model.remark,"onUpdate:modelValue":l[37]||(l[37]=e=>R.model.remark=e),clearable:""},null,8,["modelValue"])])),_:1}),o(de,{label:"排序",prop:"sort"},{default:i((()=>[o(le,{modelValue:R.model.sort,"onUpdate:modelValue":l[38]||(l[38]=e=>R.model.sort=e),type:"number"},null,8,["modelValue"])])),_:1}),R.model[R.idkey]?(t(),u(de,{key:1,label:"登录次数",prop:"login_ip"},{default:i((()=>[o(le,{modelValue:R.model.login_num,"onUpdate:modelValue":l[39]||(l[39]=e=>R.model.login_num=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:2,label:"登录IP",prop:"login_ip"},{default:i((()=>[o(le,{modelValue:R.model.login_ip,"onUpdate:modelValue":l[40]||(l[40]=e=>R.model.login_ip=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:3,label:"登录地区",prop:"login_region"},{default:i((()=>[o(le,{modelValue:R.model.login_region,"onUpdate:modelValue":l[41]||(l[41]=e=>R.model.login_region=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:4,label:"登录时间",prop:"login_time"},{default:i((()=>[o(le,{modelValue:R.model.login_time,"onUpdate:modelValue":l[42]||(l[42]=e=>R.model.login_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:5,label:"退出时间",prop:"logout_time"},{default:i((()=>[o(le,{modelValue:R.model.logout_time,"onUpdate:modelValue":l[43]||(l[43]=e=>R.model.logout_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:6,label:"添加时间",prop:"create_time"},{default:i((()=>[o(le,{modelValue:R.model.create_time,"onUpdate:modelValue":l[44]||(l[44]=e=>R.model.create_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model.delete_time?(t(),u(de,{key:7,label:"删除时间",prop:"delete_time"},{default:i((()=>[o(le,{modelValue:R.model.delete_time,"onUpdate:modelValue":l[45]||(l[45]=e=>R.model.delete_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:8,label:"部门",prop:"dept_ids"},{default:i((()=>[o(ee,{modelValue:R.model.dept_ids,"onUpdate:modelValue":l[46]||(l[46]=e=>R.model.dept_ids=e),options:R.deptData,props:R.deptProps,class:"w-full",disabled:"",placeholder:""},null,8,["modelValue","options","props"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:9,label:"职位",prop:"post_ids"},{default:i((()=>[o(ee,{modelValue:R.model.post_ids,"onUpdate:modelValue":l[47]||(l[47]=e=>R.model.post_ids=e),options:R.postData,props:R.postProps,class:"w-full",disabled:"",placeholder:""},null,8,["modelValue","options","props"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:10,label:"角色",prop:"role_ids"},{default:i((()=>[o(Y,{modelValue:R.model.role_ids,"onUpdate:modelValue":l[48]||(l[48]=e=>R.model.role_ids=e),class:"w-full",disabled:"",multiple:"",placeholder:""},{default:i((()=>[(t(!0),s(d,null,r(R.roleData,(e=>(t(),u(F,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):c("",!0),R.model[R.idkey]?(t(),u(de,{key:11,label:"菜单(权限)",prop:"menu_tree"},{default:i((()=>[o(oe,null,{default:i((()=>[o(fe,{modelValue:R.menuExpandAll,"onUpdate:modelValue":l[49]||(l[49]=e=>R.menuExpandAll=e),title:"展开/收起",onChange:z.menuExpandAllChange},{default:i((()=>[p(" 展开 ")])),_:1},8,["modelValue","onChange"])])),_:1}),o(ge,{ref:"menuRef",data:R.model.menu_tree,props:R.menuProps,"node-key":"menu_id","default-checked-keys":R.model.menu_ids,"expand-on-click-node":!1,"highlight-current":""},{default:i((e=>[n("span",K,[n("span",null,[p(m(e.node.label)+" ",1),e.data.is_check?(t(),s("i",M,[o(se,{"icon-class":"check"})])):c("",!0)]),n("span",null,[e.data.is_role?(t(),s("i",N,[o(se,{"icon-class":"custom"})])):c("",!0),e.data.menu_url?(t(),s("i",{key:1,style:{"margin-left":"10px"},title:e.data.menu_url},[o(se,{"icon-class":"link"})],8,J)):(t(),s("i",L,[o(se,{"icon-class":"link"})])),e.data.is_unlogin?(t(),s("i",Q,[o(se,{"icon-class":"user"})])):(t(),s("i",W,[o(se,{"icon-class":"user"})])),e.data.is_unauth?(t(),s("i",Z,[o(se,{"icon-class":"unlock"})])):(t(),s("i",X,[o(se,{"icon-class":"unlock"})]))])])])),_:1},8,["data","props","default-checked-keys"])])),_:1})):c("",!0)])),_:1},8,["model","rules"])])),_:1},8,["height"])])),_:1},8,["modelValue","title","before-close"])])}]]);export{ee as default};
